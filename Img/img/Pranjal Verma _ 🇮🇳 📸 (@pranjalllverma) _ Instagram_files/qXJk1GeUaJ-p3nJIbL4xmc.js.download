;/*FB_PKG_DELIM*/

__d("PolarisInstagramAdDirectReshareSendFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_ad_direct_reshare_send",a(),{},h)}};b=a;g["default"]=b}),98);
__d("useMaybeLogInstagramAdDirectReshareSend",["PolarisContainerModuleUtils","PolarisInstagramAdDirectReshareSendFalcoEvent","PolarisInteractionsLogger","PolarisODS","PolarisViewpointActionUtils","polarisAdsSelectors","polarisRelationshipSelectors","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b,e=(b=a.owner)==null?void 0:b.id,f=c("usePolarisAnalyticsContext")(),g=d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a}),i=d("polarisRelationshipSelectors").useRelationship(e||"");return h(function(){if(g!=null&&g.ad_id!=null&&g.tracking_token!=null&&i!=null){var b=d("PolarisInteractionsLogger").getMediaTypeFromPost(a),h=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a)||"",j=d("PolarisContainerModuleUtils").getContainerModule(f);c("PolarisODS").incr("web.ads.feed.share");c("PolarisInstagramAdDirectReshareSendFalcoEvent").log(function(){return{a_pk:e,ad_id:g.ad_id,follow_status:d("PolarisViewpointActionUtils").getFollowStatus(i),m_pk:h,m_t:b,pigeon_reserved_keyword_module:j,source_of_action:j,tracking_token:g.tracking_token}})}},[g,f,e,a,i])}g["default"]=a}),98);
__d("PolarisPostFastDirectShareSheet.react",["PolarisDirectActionSendPostToUsers","PolarisDirectLogger","PolarisDirectSearchUserContainer.react","PolarisDirectShareSheet.react","PolarisDirectStrings","PolarisLogger","PolarisPostTypeUtils","PolarisReactRedux","PostFastDirectShareSheetModal","QPLUserFlow","gkx","isStringNullOrEmpty","qex","qpl","react","useMaybeLogInstagramAdDirectReshareSend","usePolarisAnalyticsContext","usePolarisMQTT"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.onClose,e=a.post,f=d("PolarisReactRedux").useDispatch(),g=c("usePolarisMQTT")(),j=c("usePolarisAnalyticsContext")(),k=d("PolarisPostTypeUtils").getPostType(e),l=c("useMaybeLogInstagramAdDirectReshareSend")(e);i(function(){c("gkx")("4908")||d("PolarisLogger").logAction("shareClick",{source:j,type:k})},[j,k]);var m=function(){c("QPLUserFlow").endCancel(c("qpl")._(379205139,"1723"),{annotations:{string:{source:j}}}),b()};a=function(a,b){c("QPLUserFlow").endSuccess(c("qpl")._(379205139,"1723"),{annotations:{string:{source:j}}});m();var h=j;d("PolarisDirectLogger").DirectLogger.logDirectEvent(d("PolarisDirectShareSheet.react").PAGE_ID,"share_sheet_send",{referral:h});f(d("PolarisDirectActionSendPostToUsers").sendPostToUsers({comment:c("isStringNullOrEmpty")(b)?void 0:b,mediaId:String(e.id),mediaOverlayInfo:e.mediaOverlayInfo,mqtt:g,recipients:a}));l()};var n=g!=null||c("qex")._("605")===!0;return n&&e.id!=null&&e.id.length>0&&h.jsx(c("PostFastDirectShareSheetModal"),{"aria-label":d("PolarisDirectStrings").SHARE_TITLE,fixedHeight:!1,onClose:m,size:"large",children:h.jsx(c("PolarisDirectSearchUserContainer.react"),{backAction:m,forwardAction:a,forwardText:d("PolarisDirectStrings").SEND_BUTTON_STRING,includeGroup:!0,isModal:!0,isShareSheet:!0,pageId:d("PolarisDirectShareSheet.react").PAGE_ID,title:d("PolarisDirectStrings").SHARE_TITLE})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisTargetedPortal.react",["immutable-4.0.0-rc.9","react","react-dom"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=new(d("immutable-4.0.0-rc.9").Map)();c={addRef:function(){},map:i,removeRef:function(){}};e=h.createContext(c);var j=e.Consumer,k=e.Provider;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={map:i},c.$1=function(a,b){c.setState(function(c){return{map:c.map.update(a,new(d("immutable-4.0.0-rc.9").Set)(),function(a){return a.add(b)})}})},c.$2=function(a,b){c.setState(function(c){return{map:c.map.update(a,new(d("immutable-4.0.0-rc.9").Set)(),function(a){return a.remove(b)})}})},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.render=function(){var a={addRef:this.$1,map:this.state.map,removeRef:this.$2};return h.jsx(k,{value:a,children:this.props.children})};return b}(h.Component);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$1=h.createRef(),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.componentDidMount=function(){this.props.__addRef(this.props.targetId,this.$1)};c.componentWillUnmount=function(){this.props.__removeRef(this.props.targetId,this.$1)};c.render=function(){var a=this.props;a.__addRef;a.__removeRef;var b=a.element;a.targetId;a=babelHelpers.objectWithoutPropertiesLoose(a,["__addRef","__removeRef","element","targetId"]);return h.jsx(b,babelHelpers["extends"]({ref:this.$1},a))};return a}(h.Component);function a(a){return h.jsx(j,{children:function(b){return h.createElement(l,babelHelpers["extends"]({},a,{__addRef:b.addRef,__removeRef:b.removeRef,key:a.targetId}))}})}a.displayName=a.name+" [from "+f.id+"]";a.defaultProps={element:"div"};function b(a){var b=a.children,c=a.targetId;return h.jsx(j,{children:function(a){a=a.map.get(c);return a?a.map(function(a){return a.current&&b!==void 0?d("react-dom").createPortal(b,a.current):null}).toArray():null}})}b.displayName=b.name+" [from "+f.id+"]";g.TargetedPortalProvider=c;g.PortalTarget=a;g.PortalTo=b}),98);